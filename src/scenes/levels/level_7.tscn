[gd_scene format=4 uid="uid://o2cvll5byd1s"]

[ext_resource type="Script" uid="uid://5fpkm17tw6kn" path="res://core/level.gd" id="1_posk4"]
[ext_resource type="PackedScene" uid="uid://bl0u0p0mf5g16" path="res://scenes/components/level_world.tscn" id="2_sjq8i"]
[ext_resource type="TileSet" uid="uid://cuppb1uimxgtj" path="res://resources/world_tileset_01.tres" id="3_q0wsq"]
[ext_resource type="Script" uid="uid://cyw0ns0pn6gd5" path="res://scripts/game/tile_map.gd" id="3_wreli"]
[ext_resource type="PackedScene" uid="uid://chans4uy22002" path="res://scenes/objects/player.tscn" id="4_ivh0c"]
[ext_resource type="Texture2D" uid="uid://cidheaemokk" path="res://assets/tilemap/ground-outline-mask.png" id="4_wreli"]
[ext_resource type="PackedScene" uid="uid://bn6154eu6l5ce" path="res://scenes/objects/block_unmashed_1x1.tscn" id="5_wreli"]
[ext_resource type="PackedScene" uid="uid://bvjtkxteylojf" path="res://scenes/game/order_checker.tscn" id="7_st48t"]
[ext_resource type="PackedScene" uid="uid://yivkpt02m4ox" path="res://scenes/game/mash_block_checker.tscn" id="8_dfn7m"]
[ext_resource type="Script" uid="uid://dj330fftlpvf6" path="res://scripts/objects/switch.gd" id="8_sjq8i"]
[ext_resource type="Script" uid="uid://b3cwwpsrywrrm" path="res://scripts/objects/door.gd" id="9_q0wsq"]
[ext_resource type="PackedScene" uid="uid://c2otvdkeaywff" path="res://scenes/objects/door_block.tscn" id="10_q0wsq"]

[sub_resource type="Gradient" id="Gradient_sjq8i"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_q0wsq"]
gradient = SubResource("Gradient_sjq8i")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sjq8i"]

[node name="Level" type="Node2D" unique_id=2026468441]
script = ExtResource("1_posk4")
metadata/_custom_type_script = "uid://5fpkm17tw6kn"

[node name="Camera2D" type="Camera2D" parent="." unique_id=1532469930]
anchor_mode = 0

[node name="World" parent="." unique_id=1317599791 instance=ExtResource("2_sjq8i")]

[node name="TileMap" type="Node2D" parent="World" unique_id=836057586]
script = ExtResource("3_wreli")

[node name="Ground" type="TileMapLayer" parent="World/TileMap" unique_id=25901073]
tile_map_data = PackedByteArray("AAAUAAwAAAALAAMAAAAUAAsAAAALAAIAAAAUAAoAAAALAAIAAAATAAwAAAAIAAMAAAATAAsAAAAFAAIAAAATAAoAAAAKAAEAAAANAAwAAAAJAAMAAAANAAsAAAAKAAEAAAANAAoAAAAKAAEAAAAMAAwAAAAJAAMAAAAMAAsAAAAKAAEAAAALAAwAAAAJAAMAAAALAAsAAAAKAAEAAAAKAAwAAAAJAAMAAAAKAAsAAAAKAAEAAAAJAAwAAAAJAAMAAAAJAAsAAAAKAAEAAAAIAAwAAAAJAAMAAAAIAAsAAAAKAAEAAAAHAAwAAAAJAAMAAAAHAAsAAAAKAAEAAAAGAAwAAAAJAAMAAAAGAAsAAAAKAAEAAAAGAAoAAAAKAAEAAAAFAAwAAAAJAAMAAAAFAAsAAAAKAAEAAAAFAAoAAAAKAAEAAAAEAAwAAAAJAAMAAAAEAAsAAAAKAAEAAAAEAAoAAAAKAAEAAAADAAwAAAAJAAMAAAADAAsAAAAKAAEAAAADAAoAAAAKAAEAAAACAAwAAAAJAAMAAAACAAsAAAAKAAEAAAACAAoAAAAKAAEAAAABAAwAAAAJAAMAAAABAAsAAAAKAAEAAAABAAoAAAAKAAEAAAAAAAwAAAAJAAMAAAAAAAsAAAAKAAEAAAAAAAoAAAAKAAEAAAD//wwAAAAIAAMAAAD//wsAAAAIAAEAAAD//woAAAAIAAEAAAABAAgAAAAKAAEAAAABAAkAAAAKAAEAAAACAAkAAAAKAAEAAAAAAAkAAAAKAAEAAAD//wkAAAAIAAEAAAAAAAgAAAAKAAEAAAAAAAcAAAAKAAEAAAAAAAYAAAAKAAEAAAAAAAUAAAAKAAEAAAAAAAQAAAAKAAEAAAAAAAMAAAAKAAEAAAABAAMAAAAKAAEAAAABAAcAAAAKAAEAAAABAAYAAAAKAAEAAAABAAUAAAAKAAEAAAABAAQAAAAKAAEAAAAMAAoAAAAKAAEAAAACAAAAAAAKAAEAAAABAAAAAAAKAAEAAAABAAEAAAAKAAEAAAABAAIAAAAKAAEAAAACAAgAAAAGAAEAAAACAAcAAAALAAIAAAACAAIAAAAGAAIAAAACAAEAAAAKAAEAAAAAAAIAAAAKAAEAAAAAAAEAAAAKAAEAAAAAAAAAAAAKAAEAAAD//wAAAAAIAAEAAAD//wEAAAAIAAEAAAD//wQAAAAIAAEAAAD//wUAAAAIAAEAAAD//wYAAAAIAAEAAAD//wcAAAAIAAEAAAD//wgAAAAIAAEAAAD//wMAAAAIAAEAAAD//wIAAAAIAAEAAAATAAcAAAAFAAEAAAATAAYAAAAIAAEAAAATAAUAAAAIAAEAAAATAAQAAAAIAAEAAAAUAAUAAAALAAIAAAAUAAYAAAALAAIAAAAUAAcAAAALAAIAAAAUAAgAAAALAAIAAAAUAAkAAAALAAIAAAAUAAQAAAALAAIAAAACAP//AAAKAAAAAAABAP//AAAKAAAAAAAAAP//AAAKAAAAAAD/////AAAIAAAAAAAHAAoAAAAKAAEAAAAIAAoAAAAKAAEAAAAJAAoAAAAKAAEAAAAKAAoAAAAKAAEAAAALAAoAAAAKAAEAAAADAAkAAAAGAAEAAAADAAgAAAALAAAAAAACAAYAAAALAAIAAAACAAUAAAALAAIAAAACAAQAAAALAAIAAAACAAMAAAALAAIAAAADAAIAAAAJAAMAAAADAAEAAAAGAAEAAAADAAAAAAALAAIAAAADAP//AAALAAAAAAAEAAkAAAAKAAAAAAASAAcAAAAKAAAAAAAOAAoAAAAKAAEAAAATAAMAAAAIAAEAAAATAAIAAAAIAAEAAAATAAEAAAAIAAEAAAATAAAAAAAIAAEAAAATAP//AAAIAAAAAAAUAP//AAALAAAAAAAUAAAAAAALAAIAAAAUAAEAAAALAAIAAAAUAAIAAAALAAIAAAAUAAMAAAALAAIAAAAOAAsAAAAGAAIAAAAOAAwAAAALAAMAAAAPAAoAAAAKAAEAAAAQAAoAAAAKAAEAAAARAAoAAAAKAAEAAAASAAoAAAAKAAEAAAASAAkAAAAKAAEAAAASAAgAAAAKAAEAAAAPAAsAAAAJAAMAAAAQAAsAAAAJAAMAAAARAAsAAAAJAAMAAAASAAsAAAAJAAMAAAATAAkAAAAKAAEAAAATAAgAAAAKAAEAAAALAAUAAAALAAMAAAAKAAUAAAAJAAMAAAAJAAUAAAAIAAMAAAAFAAkAAAAKAAAAAAAGAAkAAAAKAAAAAAAHAAkAAAAKAAAAAAAIAAkAAAAKAAAAAAAJAAkAAAAKAAAAAAAKAAkAAAAKAAAAAAALAAkAAAAKAAAAAAAEAAIAAAAJAAMAAAAFAAIAAAAJAAMAAAAGAAIAAAAJAAMAAAAHAAIAAAAJAAMAAAAJAAMAAAAIAAEAAAAJAAQAAAAIAAEAAAAIAAIAAAAJAAMAAAAJAAIAAAAFAAIAAAAKAAQAAAAKAAEAAAAKAAMAAAAKAAEAAAAKAAIAAAAGAAEAAAALAAQAAAALAAIAAAALAAMAAAALAAIAAAALAAIAAAALAAAAAAAMAAkAAAAKAAAAAAANAAkAAAAKAAAAAAAOAAkAAAAKAAAAAAAPAAkAAAAKAAAAAAAQAAkAAAAFAAEAAAAQAAgAAAAIAAEAAAAQAAcAAAAIAAAAAAARAAcAAAAKAAAAAAARAAgAAAAKAAEAAAARAAkAAAAKAAEAAAAKAAEAAAALAAAAAAAJAAEAAAAKAAAAAAAIAAEAAAAKAAAAAAAHAAEAAAAKAAAAAAAGAAEAAAAKAAAAAAAFAAEAAAAKAAAAAAAEAAEAAAAKAAAAAAA=")
tile_set = ExtResource("3_q0wsq")

[node name="Foreground" type="TileMapLayer" parent="World/TileMap" unique_id=808498850]
tile_map_data = PackedByteArray("AAAUAAwAAAALAAMAAAAUAAsAAAALAAIAAAAUAAoAAAALAAIAAAATAAwAAAAIAAMAAAATAAsAAAAFAAIAAAATAAoAAAAKAAEAAAADAAwAAAALAAMAAAADAAsAAAALAAIAAAADAAoAAAALAAIAAAACAAwAAAAJAAMAAAACAAsAAAAKAAEAAAACAAoAAAAKAAEAAAABAAwAAAAJAAMAAAABAAsAAAAKAAEAAAABAAoAAAAKAAEAAAAAAAwAAAAJAAMAAAAAAAsAAAAKAAEAAAAAAAoAAAAKAAEAAAD//wwAAAAIAAMAAAD//wsAAAAIAAEAAAD//woAAAAIAAEAAAABAAgAAAAKAAAAAAABAAkAAAAKAAEAAAACAAkAAAAKAAEAAAAAAAkAAAAKAAEAAAD//wkAAAAIAAEAAAAAAAgAAAAKAAAAAAACAAgAAAAKAAAAAAD//wgAAAAIAAAAAAATAAcAAAAFAAEAAAATAAYAAAAIAAEAAAATAAUAAAAIAAEAAAATAAQAAAAIAAEAAAAUAAUAAAALAAIAAAAUAAYAAAALAAIAAAAUAAcAAAALAAIAAAAUAAgAAAALAAIAAAAUAAkAAAALAAIAAAAUAAQAAAALAAIAAAADAAkAAAALAAIAAAADAAgAAAALAAAAAAATAAMAAAAIAAEAAAATAAIAAAAIAAEAAAATAAEAAAAIAAEAAAATAAAAAAAIAAEAAAATAP//AAAIAAAAAAAUAP//AAALAAAAAAAUAAAAAAALAAIAAAAUAAEAAAALAAIAAAAUAAIAAAALAAIAAAAUAAMAAAALAAIAAAAQAAoAAAAIAAEAAAARAAoAAAAKAAEAAAASAAoAAAAKAAEAAAAQAAsAAAAIAAMAAAARAAsAAAAJAAMAAAASAAsAAAAJAAMAAAATAAkAAAAKAAEAAAATAAgAAAAKAAEAAAAQAAgAAAAIAAEAAAAQAAcAAAAIAAAAAAARAAcAAAAKAAAAAAARAAgAAAAKAAEAAAAIAAMAAAAIAAMAAAAJAAMAAAALAAMAAAAJAAIAAAALAAAAAAAIAAIAAAAIAAAAAAAQAAkAAAAIAAEAAAARAAkAAAAKAAEAAAASAAkAAAAKAAEAAAASAAgAAAAKAAEAAAASAAcAAAAKAAAAAAA=")
tile_set = ExtResource("3_q0wsq")

[node name="Sprite2D" type="Sprite2D" parent="World/TileMap" unique_id=667109501]
clip_children = 1
texture = ExtResource("4_wreli")
centered = false

[node name="Outline" type="TileMapLayer" parent="World/TileMap/Sprite2D" unique_id=1053129308]
tile_map_data = PackedByteArray("AAAEAAkABAAKAAAAAAAFAAkABAAKAAAAAAAGAAkABAAKAAAAAAAHAAkABAAKAAAAAAAIAAkABAAKAAAAAAAJAAkABAAKAAAAAAAKAAkABAAKAAAAAAALAAkABAAKAAAAAAAMAAkABAAKAAAAAAANAAkABAAKAAAAAAAOAAkABAAKAAAAAAAPAAkABAAKAAAAAAADAAIABAAJAAMAAAAEAAIABAAJAAMAAAAFAAIABAAJAAMAAAAGAAIABAAJAAMAAAAHAAIABAAJAAMAAAA=")
tile_set = ExtResource("3_q0wsq")

[node name="OrderChecker" parent="World" unique_id=516939924 instance=ExtResource("7_st48t")]
position = Vector2(832, 704)

[node name="MashBlockChecker" parent="World/OrderChecker" unique_id=2075480081 instance=ExtResource("8_dfn7m")]

[node name="MashBlockChecker2" parent="World/OrderChecker" unique_id=1409629211 instance=ExtResource("8_dfn7m")]
position = Vector2(64, 0)
what_im_happy_with = 1

[node name="MashBlockChecker3" parent="World/OrderChecker" unique_id=1713969590 instance=ExtResource("8_dfn7m")]
position = Vector2(128, 0)
what_im_happy_with = 0

[node name="Switch" type="Area2D" parent="." unique_id=457093512 node_paths=PackedStringArray("door_to_interact_with")]
position = Vector2(416, 576)
collision_layer = 0
collision_mask = 10
script = ExtResource("8_sjq8i")
door_to_interact_with = NodePath("../Door")
metadata/_custom_type_script = "uid://dj330fftlpvf6"

[node name="Sprite2D" type="Sprite2D" parent="Switch" unique_id=998991269]
texture = SubResource("GradientTexture2D_q0wsq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Switch" unique_id=780724582]
shape = SubResource("RectangleShape2D_sjq8i")

[node name="Door" type="StaticBody2D" parent="." unique_id=2000513942]
position = Vector2(704, 416)
script = ExtResource("9_q0wsq")
metadata/_custom_type_script = "uid://b3cwwpsrywrrm"

[node name="DoorBlock" parent="Door" unique_id=1732091715 instance=ExtResource("10_q0wsq")]

[node name="DoorBlock2" parent="Door" unique_id=1988321818 instance=ExtResource("10_q0wsq")]
position = Vector2(0, 64)

[node name="DoorBlock3" parent="Door" unique_id=1808321185 instance=ExtResource("10_q0wsq")]
position = Vector2(0, 128)

[node name="Player" parent="." unique_id=1691389058 instance=ExtResource("4_ivh0c")]
position = Vector2(480, 480)

[node name="Unmashed" parent="." unique_id=1096808338 instance=ExtResource("5_wreli")]
position = Vector2(224, 480)
mash_type = 1

[node name="Unmashed2" parent="." unique_id=1994936223 instance=ExtResource("5_wreli")]
position = Vector2(992, 544)

[node name="Unmashed3" parent="." unique_id=2092240125 instance=ExtResource("5_wreli")]
position = Vector2(1184, 384)
